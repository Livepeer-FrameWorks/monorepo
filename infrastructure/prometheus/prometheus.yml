global:
  scrape_interval: 15s
  evaluation_interval: 15s

rule_files:
  - "rules/*.yml"

alerting:
  alertmanagers:
    - static_configs:
        - targets: []

scrape_configs:
  # Prometheus itself
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']

  # FrameWorks Core Services
  - job_name: 'quartermaster'
    static_configs:
      - targets: ['quartermaster:18002']
    metrics_path: '/metrics'
    scrape_interval: 30s

  - job_name: 'commodore'
    static_configs:
      - targets: ['commodore:18001']
    metrics_path: '/metrics'
    scrape_interval: 30s

  - job_name: 'foghorn'
    static_configs:
      - targets: ['foghorn:18008']
    metrics_path: '/metrics'
    scrape_interval: 30s

  - job_name: 'helmsman'
    static_configs:
      - targets: ['helmsman:18007']
    metrics_path: '/metrics'
    scrape_interval: 30s

  - job_name: 'signalman'
    static_configs:
      - targets: ['signalman:18009']
    metrics_path: '/metrics'
    scrape_interval: 30s

  - job_name: 'periscope-query'
    static_configs:
      - targets: ['periscope-query:18004']
    metrics_path: '/metrics'
    scrape_interval: 30s

  - job_name: 'periscope-ingest'
    static_configs:
      - targets: ['periscope-ingest:18005']
    metrics_path: '/metrics'
    scrape_interval: 30s

  - job_name: 'purser'
    static_configs:
      - targets: ['purser:18003']
    metrics_path: '/metrics'
    scrape_interval: 30s

  - job_name: 'decklog'
    static_configs:
      - targets: ['decklog:18006']
    metrics_path: '/metrics'
    scrape_interval: 30s

  # Infrastructure Services
  - job_name: 'mistserver'
    static_configs:
      - targets: ['mistserver:4242']
    metrics_path: '/koekjes'
    scrape_interval: 60s

  - job_name: 'clickhouse'
    static_configs:
      - targets: ['clickhouse:8123']
    metrics_path: '/metrics'
    scrape_interval: 60s

  - job_name: 'nginx'
    static_configs:
      - targets: ['nginx:80']
    metrics_path: '/nginx_status'
    scrape_interval: 30s 