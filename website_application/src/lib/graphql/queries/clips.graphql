# Clip management queries

fragment ClipInfo on Clip {
  id
  clipHash
  streamName
  title
  description
  startTime
  duration
  nodeId
  storagePath
  sizeBytes
  status
  accessCount
  createdAt
  updatedAt
}

query GetClips($streamId: ID) {
  clips(streamId: $streamId) {
    ...ClipInfo
  }
}

query GetClipsConnection($streamId: ID, $first: Int = 50, $after: String) {
  clipsConnection(streamId: $streamId, first: $first, after: $after) {
    edges {
      cursor
      node {
        ...ClipInfo
      }
    }
    pageInfo {
      hasNextPage
      hasPreviousPage
      startCursor
      endCursor
    }
    totalCount
  }
}

query GetClip($id: ID!) {
  clip(id: $id) {
    ...ClipInfo
  }
}

query GetClipViewingUrls($clipId: ID!) {
  clipViewingUrls(clipId: $clipId) {
    urls
    expiresAt
  }
}