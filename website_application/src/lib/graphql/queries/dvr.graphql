# DVR query operations
fragment DVRRequestInfo on DVRRequest {
  dvrHash
  internalName
  storageNodeId
  status
  startedAt
  endedAt
  durationSeconds
  sizeBytes
  manifestPath
  errorMessage
  createdAt
  updatedAt
}

query GetDVRRequests(
  $internalName: String
  $first: Int = 50
  $after: String
) {
  dvrRecordingsConnection(
    internalName: $internalName
    first: $first
    after: $after
  ) {
    edges {
      cursor
      node {
        ...DVRRequestInfo
      }
    }
    pageInfo {
      hasNextPage
      hasPreviousPage
      startCursor
      endCursor
    }
    totalCount
  }
}