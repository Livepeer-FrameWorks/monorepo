# DVR management mutations
# Uses shared fragments from fragments/shared.graphql

mutation StartDVR($internalName: String!, $streamId: ID) {
  startDVR(internalName: $internalName, streamId: $streamId) {
    ... on DVRRequest {
      ...CoreDVRRequest
    }
    ... on ValidationError {
      ...ValidationErrorFields
    }
    ... on NotFoundError {
      ...NotFoundErrorFields
    }
    ... on AuthError {
      ...AuthErrorFields
    }
  }
}

mutation StopDVR($dvrHash: ID!) {
  stopDVR(dvrHash: $dvrHash) {
    ... on DeleteSuccess {
      ...DeleteSuccessFields
    }
    ... on NotFoundError {
      ...NotFoundErrorFields
    }
    ... on AuthError {
      ...AuthErrorFields
    }
  }
}
