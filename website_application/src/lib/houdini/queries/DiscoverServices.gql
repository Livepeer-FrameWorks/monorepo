# Discover service instances by type
query DiscoverServices(
  $type: String!
  $clusterId: String
  $first: Int = 50
  $after: String
) {
  discoverServicesConnection(
    type: $type
    clusterId: $clusterId
    first: $first
    after: $after
  ) {
    edges {
      cursor
      node {
        id
        instanceId
        clusterId
        nodeId
        serviceId
        version
        port
        processId
        containerId
        status
        healthStatus
        startedAt
        stoppedAt
        lastHealthCheck
        cpuUsagePercent
        memoryUsageMb
      }
    }
    pageInfo {
      ...PageInfoFields
    }
    totalCount
  }
}
