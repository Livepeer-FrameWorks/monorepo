# Fetch paginated list of DVR recordings with lifecycle status and storage paths
# Returns DVR metadata from Commodore (use artifactStatesConnection for live status)
query GetDVRRequests($internalName: String, $first: Int = 50, $after: String) {
  dvrRecordingsConnection(
    internalName: $internalName
    first: $first
    after: $after
  ) @paginate {
    edges {
      cursor
      node {
        # Business metadata (from Commodore)
        id
        dvrHash
        internalName
        title
        createdAt
        updatedAt
        expiresAt
        # Lifecycle data (null from Commodore, use artifactStatesConnection for live status)
        storageNodeId
        status
        startedAt
        endedAt
        durationSeconds
        sizeBytes
        manifestPath
        errorMessage
        storageLocation
        isFrozen
        frozenAt
        s3Url
      }
    }
    pageInfo {
      hasNextPage
      hasPreviousPage
      startCursor
      endCursor
    }
    totalCount
  }
}
