query GetStreamAnalyticsSummary($stream: String!, $timeRange: TimeRangeInput) {
  streamAnalytics(stream: $stream, timeRange: $timeRange) {
    id
    streamId
    internalName
    status
    # Viewer metrics
    currentViewers
    peakViewers
    avgViewers
    totalViews
    uniqueViewers
    totalSessionDuration
    # Quality metrics
    uniqueCountries
    uniqueCities
    avgBufferHealth
    avgBitrate
    avgConnectionQuality
    packetLossRate
    # Current state
    currentResolution
    currentCodec
    currentFps
    bitrateKbps
    qualityTier
    currentBufferState
    currentIssues
  }
}
