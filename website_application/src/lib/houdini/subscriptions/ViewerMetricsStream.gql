# Live viewer connection and playback quality metrics
# Includes bandwidth, packet loss, geographic location, and connection statistics
subscription ViewerMetricsStream($stream: String!) {
  viewerMetrics(stream: $stream) {
    nodeId
    internalName
    action
    protocol
    host
    sessionId
    connectionTime
    position
    bandwidthInBps
    bandwidthOutBps
    bytesDownloaded
    bytesUploaded
    packetsSent
    packetsLost
    packetsRetransmitted
    timestamp
    clientCountry
    clientCity
    clientLatitude
    clientLongitude
  }
}
