# Hourly geographic viewer aggregates (from viewer_geo_hourly MV)
query GetViewerGeoHourly(
  $timeRange: TimeRangeInput
  $first: Int = 100
  $after: String
) {
  analytics {
    usage {
      streaming {
        viewerGeoHourlyConnection(timeRange: $timeRange, page: { first: $first, after: $after }) {
          edges {
            cursor
            node {
              id
              hour
              countryCode
              viewerCount
              viewerHours
              egressGb
            }
          }
          pageInfo {
            ...PageInfoFields
          }
          totalCount
        }
      }
    }
  }
}
